# fix opng_print_fsize_ratio
# avoid use of opng_ulratio when OPNG_LLONG_T_DEFINED is not defined
# 
--- src/optipng/optim.c.orig	2025-05-20 19:39:10.000000000 +0000
+++ src/optipng/optim.c	2025-10-18 08:28:01.704968926 +0000
@@ -218,12 +218,12 @@
 static void
 opng_print_fsize_ratio(opng_fsize_t num, opng_fsize_t denom)
 {
-#if OPNG_FSIZE_MAX <= ULONG_MAX
-#define RATIO_TYPE struct opng_ulratio
-#define RATIO_CONV_FN opng_ulratio_to_factor_string
-#else
+#ifdef OPNG_LLONG_T_DEFINED
 #define RATIO_TYPE struct opng_ullratio
 #define RATIO_CONV_FN opng_ullratio_to_factor_string
+#else
+#define RATIO_TYPE struct opng_ulratio
+#define RATIO_CONV_FN opng_ulratio_to_factor_string
 #endif
 
     char buffer[32];
