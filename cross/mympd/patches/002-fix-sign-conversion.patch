--- a/src/mympd_worker/smartpls.c
+++ b/src/mympd_worker/smartpls.c
@@ -462,7 +462,7 @@ static bool mympd_worker_smartpls_update_newest(struct t_mympd_worker_state *mym
     if ((time_t)timerange > value_max) {
         return false;
     }
-    value_max = value_max - timerange;
+    value_max = value_max - (time_t)timerange;
 
     if (strcmp(sort, "shuffle") == 0 ||
         max_entries == 0)
