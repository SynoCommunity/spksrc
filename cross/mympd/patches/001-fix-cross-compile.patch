--- CMakeLists.txt.orig	2026-01-22 17:08:11
+++ CMakeLists.txt	2026-02-02 16:57:38
@@ -91,7 +91,15 @@
 set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${PROJECT_SOURCE_DIR}/cmake/")
 
 # required dependencies
-find_library(MATH_LIB m REQUIRED)
+# For cross-compilation, MATH_LIB can be set externally to bypass find_library
+# Set to 'm' (just library name) to link using -lm without full path
+if(NOT MATH_LIB)
+  find_library(MATH_LIB m REQUIRED)
+elseif(MATH_LIB STREQUAL "m")
+  # Just use the library name directly for linking (works with cross-compilers)
+  message(STATUS "Using MATH_LIB as library name: m")
+  set(MATH_LIB "m")
+endif()
 find_package(Threads REQUIRED)
 find_package(PCRE2 REQUIRED)
 find_package(OpenSSL REQUIRED)
@@ -442,16 +450,21 @@
   set(CMAKE_INTERPROCEDURAL_OPTIMIZATION FALSE)
 elseif(CMAKE_BUILD_TYPE MATCHES "(Release|RelWithDebInfo|MinSizeRel)")
   add_compile_options(
-    "-fPIE"
+    "-fPIC"
     "-O2"
   )
   if(CMAKE_BUILD_TYPE STREQUAL "RelWithDebInfo")
     message("Generating binary with debug symbols")
     add_compile_options("-g")
   endif()
-  # IPO/LTO support
-  check_ipo_supported()
-  set(CMAKE_INTERPROCEDURAL_OPTIMIZATION TRUE)
+  # IPO/LTO support (check if supported before enabling)
+  check_ipo_supported(RESULT ipo_supported OUTPUT ipo_output)
+  if(ipo_supported)
+    message(STATUS "IPO is supported")
+    set(CMAKE_INTERPROCEDURAL_OPTIMIZATION TRUE)
+  else()
+    message(STATUS "IPO is not supported: \${ipo_output}")
+  endif()
 else()
   # if CMAKE_BUILD_TYPE is not Debug, Release, RelWithDebInfo or MinSizeRel
   # do not alter compile options
