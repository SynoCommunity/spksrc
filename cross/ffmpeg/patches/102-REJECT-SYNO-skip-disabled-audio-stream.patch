diff -uprN ../ffmpeg-4.2.2-patch060-NEW/fftools/ffmpeg_opt.c ./fftools/ffmpeg_opt.c
--- ../ffmpeg-4.2.2-patch060-NEW/fftools/ffmpeg_opt.c	2020-01-21 08:50:01.540024618 -0500
+++ ./fftools/ffmpeg_opt.c	2020-01-21 08:29:11.000000000 -0500
@@ -783,6 +783,37 @@ static AVCodec *choose_decoder_smd(Optio
 }
 #endif
 
+#ifdef SYNO_SKIP_DISABLED_AUDIO_STREAM
+static int IsAudioCopyStream(OptionsContext *o, AVFormatContext *oc)
+{
+	int ret = 0;
+	char *audio_codec_name = NULL;
+
+	MATCH_PER_TYPE_OPT(codec_names, str, audio_codec_name, oc, "a");
+
+	if (audio_codec_name && 0 == strcmp(audio_codec_name, "copy")) {
+		ret = 1;
+	}
+
+	return ret;
+}
+
+static int IsSkipAudioStream(const InputStream *ist, OptionsContext *o, AVFormatContext *oc)
+{
+	if (ist->st->codec->codec_id == AV_CODEC_ID_DTS
+		|| ist->st->codec->codec_id == AV_CODEC_ID_EAC3
+		|| ist->st->codec->codec_id == AV_CODEC_ID_TRUEHD)
+	{
+		// if not stream copy
+		if (!IsAudioCopyStream(o, oc)) {
+			return 1;
+		}
+	}
+
+	return 0;
+}
+#endif
+
 static AVCodec *choose_decoder(OptionsContext *o, AVFormatContext *s, AVStream *st)
 {
     char *codec_name = NULL;
@@ -2293,6 +2324,12 @@ static int open_output_file(OptionsConte
             for (i = 0; i < nb_input_streams; i++) {
                 int new_area;
                 ist = input_streams[i];
+#ifdef SYNO_SKIP_DISABLED_AUDIO_STREAM
+                               if (IsSkipAudioStream(ist, o, oc)) {
+                                       // if not stream copy
+                                       continue;
+                               }
+#endif
                 new_area = ist->st->codecpar->width * ist->st->codecpar->height + 100000000*!!ist->st->codec_info_nb_frames
                            + 5000000*!!(ist->st->disposition & AV_DISPOSITION_DEFAULT);
                 if (ist->user_set_discard == AVDISCARD_ALL)
@@ -2418,6 +2455,12 @@ loop_end:
                     continue;
                 if(o->    data_disable && ist->st->codecpar->codec_type == AVMEDIA_TYPE_DATA)
                     continue;
+#ifdef SYNO_SKIP_DISABLED_AUDIO_STREAM
+				if (IsSkipAudioStream(ist, o, oc)) {
+					// if not stream copy
+					continue;
+				}
+#endif
 
                 ost = NULL;
                 switch (ist->st->codecpar->codec_type) {
diff -uprN ../ffmpeg-4.2.2-patch060/synoconfig.h ./synoconfig.h
--- ../ffmpeg-4.2.2-patch060/synoconfig.h	2020-01-24 06:02:18.000000000 -0500
+++ ./synoconfig.h	2020-01-24 06:07:40.306962200 -0500
@@ -57,6 +57,13 @@
  */
 #define SYNO_MPEGTS_FORAMT_AAC_COPY_FAILED
 
+/* let ffmpeg skip audio stream with disabled codec.
+ * e.g. DTS dec/enc ,AC3 enc
+ */
+#if !defined(STANDALONE) && !defined(SYNO_VIDEOSTATION) && !defined(SYNO_MEDIASERVER)
+#define SYNO_SKIP_DISABLED_AUDIO_STREAM
+#endif
+
 /* Optional for writing RIFF info tag to wav
  * See Media Server #386
  */
