--- configure.orig	2019-07-06 13:07:00.000000000 +0000
+++ configure	2019-11-02 22:23:24.043604705 +0000
@@ -21876,73 +21876,6 @@
   fi
 fi
 
-for ac_header in stdlib.h
-do :
-  ac_fn_cxx_check_header_mongrel "$LINENO" "stdlib.h" "ac_cv_header_stdlib_h" "$ac_includes_default"
-if test "x$ac_cv_header_stdlib_h" = xyes; then :
-  cat >>confdefs.h <<_ACEOF
-#define HAVE_STDLIB_H 1
-_ACEOF
-
-fi
-
-done
-
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for GNU libc compatible malloc" >&5
-$as_echo_n "checking for GNU libc compatible malloc... " >&6; }
-if ${ac_cv_func_malloc_0_nonnull+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  if test "$cross_compiling" = yes; then :
-  ac_cv_func_malloc_0_nonnull=no
-else
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-#if defined STDC_HEADERS || defined HAVE_STDLIB_H
-# include <stdlib.h>
-#else
-char *malloc ();
-#endif
-
-int
-main ()
-{
-return ! malloc (0);
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_cxx_try_run "$LINENO"; then :
-  ac_cv_func_malloc_0_nonnull=yes
-else
-  ac_cv_func_malloc_0_nonnull=no
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_malloc_0_nonnull" >&5
-$as_echo "$ac_cv_func_malloc_0_nonnull" >&6; }
-if test $ac_cv_func_malloc_0_nonnull = yes; then :
-
-$as_echo "#define HAVE_MALLOC 1" >>confdefs.h
-
-else
-  $as_echo "#define HAVE_MALLOC 0" >>confdefs.h
-
-   case " $LIBOBJS " in
-  *" malloc.$ac_objext "* ) ;;
-  *) LIBOBJS="$LIBOBJS malloc.$ac_objext"
- ;;
-esac
-
-
-$as_echo "#define malloc rpl_malloc" >>confdefs.h
-
-fi
-
-
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking return type of signal handlers" >&5
 $as_echo_n "checking return type of signal handlers... " >&6; }
 if ${ac_cv_type_signal+:} false; then :
@@ -23216,103 +23149,9 @@
 #define MIN_VERSION_GCRYPT_HASH_BUG "$min_version_gcrypt_hash_bug"
 _ACEOF
 
-		 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libgcrypt usability" >&5
-$as_echo_n "checking for libgcrypt usability... " >&6; }
-                 if test "$cross_compiling" = yes; then :
-  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
- extern "C"
-		 				  {
-                                                       #if HAVE_GCRYPT_H
-                                                       #include <gcrypt.h>
-                                                       #endif
-                                                  }
-						  #include <iostream>
-						  using namespace std;
-
-int
-main ()
-{
-
-						 if(!gcry_check_version(MIN_VERSION_GCRYPT))
-						 {
-						   cout << "ligcrypt version too low, minimum version is " << MIN_VERSION_GCRYPT << endl;
-                                                   exit(1);
-						 }
-                                                 else
-  						   exit(0);
-
-  ;
-  return 0;
-}
-
-_ACEOF
-if ac_fn_cxx_try_run "$LINENO"; then :
 
 $as_echo "#define CRYPTO_AVAILABLE 1" >>confdefs.h
 
-				  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ok" >&5
-$as_echo "ok" >&6; }
-                                  if test "$cross_compiling" = yes; then :
-  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
- extern "C"
-				  				    {
-								     #if HAVE_GCRYPT_H
-                                                                     #include <gcrypt.h>
-                                                                     #endif
-                                                                    }
-
-int
-main ()
-{
-
-								     if(!gcry_check_version(MIN_VERSION_GCRYPT_HASH_BUG))
-								       exit(1);
-								     else
-								       exit(0);
-
-  ;
-  return 0;
-}
-
-_ACEOF
-if ac_fn_cxx_try_run "$LINENO"; then :
-
-else
-   libgcrypt_hash_bug="yes"
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-
-
-else
-
-				  if test "$?" = "1" ; then
-				    { $as_echo "$as_me:${as_lineno-$LINENO}: result: failed: need libgcypt >= $min_version_gcrypt, disabling strong encryption support" >&5
-$as_echo "failed: need libgcypt >= $min_version_gcrypt, disabling strong encryption support" >&6; }
-				  else
- 				    { $as_echo "$as_me:${as_lineno-$LINENO}: result: failed: libgcrypt is unusable, cannot even call gcry_check_version(). Disabling strong encryption support" >&5
-$as_echo "failed: libgcrypt is unusable, cannot even call gcry_check_version(). Disabling strong encryption support" >&6; }
-				  fi
-				  local_crypto="no"
-
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-
              else
                 { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: strong encryption support not available" >&5
 $as_echo "$as_me: WARNING: strong encryption support not available" >&2;}
@@ -24950,85 +24789,7 @@
 
 
 
-MEM_LDFLAGS=$LDFLAGS
-MEM_CXXFLAGS=$CXXFLAGS
-LDFLAGS="-static $MEM_LDFLAGS $GPGME_LIBS"
-CXXFLAGS="$CXXFLAGS $GPGME_CFLAGS"
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking static linking" >&5
-$as_echo_n "checking static linking... " >&6; }
-if test "$cross_compiling" = yes; then :
-  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
-$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error $? "cannot run test program while cross compiling
-See \`config.log' for more details" "$LINENO" 5; }
-else
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
- extern "C" {
-				    	        #if HAVE_STDIO_H
-                                                #include <stdio.h>
-						#endif
-						#if HAVE_EXECINFO_H
-						#include <execinfo.h>
-						#endif
-						#if HAVE_STDLIB_H
-						#include <stdlib.h>
-						#endif
-						#if HAVE_PTHREAD_H
-						#include <pthread.h>
-						#endif
-                                             }
-
-int
-main ()
-{
-
-			       #if HAVE_EXECINFO_H
-			          const int buf_size = 20;
-				  void *buffer[buf_size];
-				  int size = backtrace(buffer, buf_size);
-				  char **symbols = backtrace_symbols(buffer, size);
-
-				  if(symbols != nullptr)
-				    free(symbols);
-			       #endif
-			       #if MUTEX_WORKS
-			         pthread_mutex_t test;
-				 if(pthread_mutex_init(&test, NULL) == 0)
-				 {
-				    if(pthread_mutex_lock(&test) == 0)
-				       pthread_mutex_unlock(&test);
-				 }
-				 pthread_mutex_destroy(&test);
-			       #endif
-
-                                  printf("Hello World!");
-				  return 0;
-
-  ;
-  return 0;
-}
-
-_ACEOF
-if ac_fn_cxx_try_run "$LINENO"; then :
-
-	         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes, perfect!" >&5
-$as_echo "yes, perfect!" >&6; }
-		 static_pb="no"
-
-else
-
-	         { $as_echo "$as_me:${as_lineno-$LINENO}: result: failed" >&5
-$as_echo "failed" >&6; }
-	         static_pb="yes"
-
-fi
-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi
-
-LDFLAGS=$MEM_LDFLAGS
-CXXFLAGS=$MEM_CXXFLAGS
+static_pb="yes"
 
  if test $examples = "yes"; then
   MAKE_ALL_DIR_TRUE=
