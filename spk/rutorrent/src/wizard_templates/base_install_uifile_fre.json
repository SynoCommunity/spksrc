[
    {
        "step_title": "Configuration de base",
        "items": [
            {
                "type": "combobox",
                "desc": "Sélectionner le volume à utiliser pour le répertoire de téléchargements",
                "subitems": [
                    {
                        "key": "wizard_download_volume",
                        "desc": "Nom du volume",
                        "displayField": "display_name",
                        "valueField": "volume_path",
                        "editable": false,
                        "mode": "remote",
                        "api_store": {
                            "api": "SYNO.Core.Storage.Volume",
                            "method": "list",
                            "version": 1,
                            "baseParams": {
                                "limit": -1,
                                "offset": 0,
                                "location": "internal"
                            },
                            "root": "volumes",
                            "idProperty": "volume_path",
                            "fields": [
                                "display_name",
                                "volume_path"
                            ]
                        }
                    }
                ]
            },
            {
                "type": "textfield",
                "desc": "Répertoire partagé de téléchargements (utilisant le volume sélectionné ci-dessus)",
                "subitems": [
                    {
                        "key": "wizard_download_dir",
                        "desc": "Répertoire de téléchargements",
                        "defaultValue": "downloads",
                        "validator": {
                            "allowBlank": false,
                            "regex": {
                                "expr": "/^[\\w _-]+$/",
                                "errorText": "Sous-répertoires non-supportés."
                            }
                        }
                    }
                ]
            },
            {
                "desc": "Si le répertoire partagé est inexistant, il sera créé.  Vous pouvez utiliser un partage existant en spécifiant le nom du répertoire destination."
            },
            {
                "type": "textfield",
                "desc": "Surveille les torrents dans un répertoire et les ajoute à ruTorrent automatiquement. Relatif au répertoire partagé. Laisser vide pour désactiver",
                "subitems": [
                    {
                        "key": "wizard_watch_dir",
                        "desc": "Répertoire surveillé",
                        "validator": {
                            "allowBlank": true
                        }
                    }
                ]
            }
        ]
    },
    {
        "step_title": "Configuration de la connexion",
        "items": [
            {
                "type": "textfield",
                "desc": "Plage de port d'écoute (doit inclure '-'). Par défault 6881-6999.",
                "subitems": [
                    {
                        "key": "wizard_port_range",
                        "desc": "Plage de port d'écoute",
                        "defaultValue": "6881-6999",
                        "validator": {
                            "regex": {
                                "expr": "/^(?:6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[1-5][0-9]{4}|[1-9][0-9]{1,3}|[0-9])-(?:6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[1-5][0-9]{4}|[1-9][0-9]{1,3}|[0-9])$/",
                                "errorText": "La plage entrée est invalide"
                            }
                        }
                    }
                ]
            }
        ]
    }
]
