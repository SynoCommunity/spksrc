[{
    "step_title": "Shared folder configuration",
    "items": [{
        "type": "combobox",
        "desc": "Please select a volume to use for the data folder",
        "subitems": [{
            "key": "wizard_data_volume",
            "desc": "Volume name",
            "displayField": "display_name",
            "valueField": "volume_path",
            "editable": false,
            "mode": "remote",
            "api_store": {
              "api": "SYNO.Core.Storage.Volume",
              "method": "list",
              "version": 1,
              "baseParams": {
                "limit": -1,
                "offset": 0,
                "location": "internal"
              },
              "root": "volumes",
              "idProperty": "volume_path",
              "fields": [
                "display_name",
                "volume_path"
              ]
            },
            "validator": {
              "fn": "{console.log(arguments);return true;}"
            }
          }
        ]
      }, {
        "type": "textfield",
        "desc": "Shared folder. This must be a name for the shared folder only, without any path. This share is created at installation when it does not already exist.",
        "subitems": [{
            "key": "wizard_data_folder",
            "desc": "Shared folder",
            "defaultValue": "demo-downloads",
            "validator": {
              "allowBlank": false,
              "regex": {
                "expr": "/^[^<>: */?\"]*/",
                "errorText": "Share name must be a folder name only. Path separators, spaces and other special chars are not allowed."
              }
            }
          }
        ]
      }, {
        "type": "textfield",
        "desc": "Define a group to access files in the shared folder defined above.",
        "subitems": [{
            "key": "wizard_group",
            "desc": "DSM group",
            "defaultValue": "sc-download",
            "validator": {
              "allowBlank": false,
              "regex": {
                "expr": "/^[^<>:*/?\"]*$/",
                "errorText": "Not allowed character in group name"
              }
            }
          }
        ]
      }
    ]
  }, {
    "step_title": "DSM Permissions",
    "items": [{
        "desc": "Permissions in DSM are restricted to group defined in the previous step (default: <b>'sc-download'</b>).<br>The group 'users' is no longer used as of DSM 6+.<br>Package user (<b>'sc-demoservice'</b>) will not appear on most UI settings.<br>Including the following:<br>- Application privilege's permission viewer<br>- FPT's chroot user selector<br>- File Stations's<br>- Change owner<br>- Shared Links Manager -> Enable secure sharing<br><br>The only exceptions are:<br>- Control Panel > Shared Folder > Edit > Permission > System internal user<br>- ACL editor<br>"
      }
    ]
  }, {
    "step_title": "MySQL Demo Database",
    "items": [{
        "desc": "This package creates a demo database 'demoservice' and a db user 'demoservice' with full access to this database. The password for the db user is randomly generated by DSM and is stored in the file demoservice.ini by package specific install function.<br>"
      }, {
        "type": "password",
        "desc": "Enter your MySQL root password",
        "subitems": [{
            "key": "wizard_mysql_password_root",
            "desc": "MySQL root password"
          }
        ]
      }, {
        "type": "password",
        "desc": "Enter a password for the demoservice db user",
        "subitems": [{
            "key": "wizard_mysql_password_user",
            "desc": "MySQL user password"
          }
        ]
      }
    ]
  }
]
